# built mkl-dnn + TF + AVX512 using the command
# Setting ensure EIGEN_USE_VML - Eigen uses Intel's vector ops
# more details: https://eigen.tuxfamily.org/dox/TopicUsingIntelMKL.html
# https://cug.org/proceedings/cug2017_proceedings/includes/files/tut110s2-file3.pdf
root@78d4690766e1:/tensorflow-1.11.0# history
    1  ls
    2  cd tensorflow-1.11.0/
    3  ./configure 
    4  bazel build --config=mkl -copt=-mavx2 --copt=-O1 --copt=-fno-inline --copt=-march=skylake-avx512 --copt=-mfma --copt=-g3 --copt="-DEIGEN_USE_VML"  -s -c opt //tensorflow/tools/pip_package:build_pip_package
    5  bazel build --config=mkl --copt=-mavx2 --copt=-O1 --copt=-fno-inline --copt=-march=skylake-avx512 --copt=-mfma --copt=-g3 --copt="-DEIGEN_USE_VML"  -s -c opt //tensorflow/tools/pip_package:build_pip_package
    6  history

# created wheel using the command
./bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg/avx512

